
= netwonk - scriptserver code

[netwonk]
total 20
drwxr-xr-x. 2 networkuser networkuser 4096 Nov 14 12:45 bin
drwxr-xr-x. 7 networkuser networkuser   76 May 27 13:29 configs
-rw-r--r--. 1 networkuser networkuser    0 Nov 17 11:19 Contents
drwxr-xr-x. 2 networkuser networkuser   50 Aug 11 15:09 data
drwxr-xr-x. 4 networkuser networkuser  156 Nov  1 17:53 forensic
drwxr-xr-x. 2 networkuser networkuser 4096 Nov 16 15:05 lib
drwxr-xr-x. 2 networkuser networkuser 4096 Nov 14 14:40 util


[netwonk/bin]
asrconfigs.pl         - collect ASR configs       
borderfilter.pl       - filter/unfilter IPs on border routers; process Queue or manual filter 
borderfiltersifter.pl - sync borderfilters on routers with filter list
dhcpcfg.pl            - reads dhcp config, creates/updates tables network.fixies and network.ranges
forum_chvlan.pl       - changes vlan assignment on specific switches, allows user access via queueing.
fw-asacfgprocC.pl     - [child of fw-asacfgprocP.pl] processes one ASA config, creates tables network.ipvlanmap, network.staticmap
fw-asacfgprocP.pl     - parent process to run multiple fw-asacfgprocC.pl processes in parallel
fw-asaconfig.pl       - collect ASA configs
fw-asaC.pl            - [child of fw-asaP.pl] collects ASA xlates and arps for a single ASA
fw-asaP.pl            - parent process to run multiple asaC.pl processes in parallel
fw-PAconfig.pl        - collect Palo Alto firewall configs
fw-PaC.pl             - collect xlates and arps for a single Palo Alto firewall
macfilter.pl          - mac based filtering/unfiltering, by processing network.macfilterQ or by manual process
macfiltersifter.pl    - sync filters on routers with table network.macfilters
routercfgChild.pl     - collect config for a single router
routercfgParent.pl    - parent process to run multiple routercfgChild.pl processes in parallel
routercfgproc.pl      - process config of one router into network.ipvlanmap 
routerC.pl            - connects and collects arp data from one router, writes to router.arp and arp.reapIP
routes.pl             - builds table network.routes
rover.pl              - finds rogue macfiltered machines and inserts them into network.swmacfilterQ for process
rtrarp.pl             - [child of rtrseeker.pl] collects arp data from one later-3 RTR box, into rtr.arp
rtrcfgproc.pl         - [child of rtrseeker.pl] process one RTR config, inserts into network.ipvlanmap  
rtrcfgsav.pl          - [child of rtrseeker.pl] collect one RTR config
rtrping.pl            - [child of rtrseeker.pl] ping one switch, collect state rtr.ping   
rtrseeker.pl          - parent script for running RTR data collection child processes in parallel 
swcdpPhoneMoves.pl    - reads swcdpPhoneMoves.out and sends email info to VoIP people
swcdp.pl              - [child of swseeker.pl] single switch data collector for table switch.cdp
swcfgproc.pl          - [child of swseeker.pl] process one switch config into table switch.intcfg
swconfig.pl           - [child of swseeker.pl] collect one switch config
swmacfilter.pl        - mac filters on switches; process network.swmacfilterQ or manual call 
swmacfilter-update.pl - processes all switch mac filters into network.swmacfilters
swmac.pl              - [child of swseeker.pl] collect mac data from one switch
swmacstats.pl         - create file ./netwonk/forensic/switches/swmacstats.out
swmisc.pl             - [child of swseeker.pl] 
swping.pl             - [child of swseeker.pl] 
swportreset.pl        - processes all resets in network.portresetQ   
swportstats.pl        - create file ./netwonk/forensic/switches/swportstats.out
swreload.pl           - [child of swseeker.pl] 
swseeker.pl           - parent script for running switch data collection child processes in parallel
swvlan.pl             - [child of swseeker.pl] 
TEST.pl               - namespace test
vlanmap.pl            - creates network.vlanmap network.vlansplits; also creates network.ipvlanmap for PaloAlto only


[netwonk/lib]
ASRs.pl               - local constant data, IP, hostname
border_routers.pl     - local constant data, IP, hostname
CONFIG.FILES          - list of files requiring user configuraton
contextmap.pl         - ASA/context/IP mapping; generated by ./util/contextmap_creator.pl
core_routers.pl       - local constant data, IP, hostname
dbipw.pl              - password call for database server, edit for secure call
filter_routers.pl     - local constant data, IP, hostname - used in macfilter.pl
PaloAltos.pl          - local constant data, IP, hostname 
PWtest.pl             - password code for network devices, edit for secure call
re_mask.pl            - mask code
servers.pl            - local constant data, IP, hostname, path, userid, etc.
Sshcon.pm             - lib code connects to routers
SshPa.pm              - lib code connects to Palo Alto firewalls
SshSwcon.pm           - lib code connects to switches
TEST.pl               - namespace test
xtp.pl                - password test


[netwonk/util]
asa-failover-status.out - output data from contextmap_creator.pl
backup-rsync-mnt.pl     - [cron process] backup to /mnt drive
conswmacfind            - tool: look for a mac in a running config
cont.changes            - config change data
contextmap_creator.pl   - tool: creates new contextmap in context_map.pl.NEW; manually copied to context_map.pl
contextmap.pl.NEW       - output file of contextmap_creator.pl
DNSzone.pl              - dns tool
fixvlan.pl              - script to fix the vlan label problems caused by using nameif nicknames
get_misc_fails.pl       - goes through ./forensic/switches/*.swmisc and identifies fail to connect switches
misc-fails.script       - output file of get_misc_fails.pl
mysql_desc_all.out      - output file of mysql_desc_all.pl - commands that generate needed mysql tables
mysql_desc_all.pl       - tool: queries descriptions of mysql tables and creates lines to regenerate the server
prune_tables.pl         - [cron process] trims network tables to configured date ranges
pskill.list             - process kill tool data
pskill.pl               - process kill tool
re_mask.pl              - mask code
rotest.pl               - time test
sctx-out                - sctx.pl output
sctx.pl                 - utility tool
showversion.pl          - version tool
sort_ip.pl              - ip sort routine
swcfgcheck.out          - swcfgcheck.pl output
swcfgcheck.pl           - tool: checks for old switch config saves
swchangeconfig.pl       - tool: make config changes on a switch as outlines in a text file
swntpcheck.out          - output of swntpcheck.pl; this file is run as a shell script - all swntpfix.pl commands
swntpcheck.pl           - check for correct ntp servers on switches
swntpfix.pl             - invoked by swntpcheck.out to fix a switch ntp entry
trynet.pl               - test code


############

= netpeek - webserver code

[netpeek]
allmacfilters.cgi      - search and display all current macfilters from all routers
allswmacfilters.cgi    - search and display all current switch macfilters
borderfilter.cgi       - filtering utility for border router issues
chvlan.cgi             - queueing suite allowing certain users vlan configuration control
errdis.cgi             - show all err-disabled switch ports currently reachable 
find_dhcp.cgi          - map of IP fixed leases, statics, ranges, recent use, etc.
index                  - index file for script access  
iproutes.cgi           - IP level map of connected networks
macfilter.cgi          - mac-address-based filtering utility on routers
multivoip.cgi          - show switch ports with multiple voip phones 
netpeek.cgi            - network search utility
PhoneMoves.cgi         - Utility for tracking VoIP phone moves and installs
pingableswitches.cgi   - All switches that answered to the last round of pings
pingablevgs.cgi        - All VGs that answered to the last round of pings
reapmac_count.cgi      - mac addresses last updated as of date
sw.cgi                 - Switchport/Mac utility
switch_lastconnect.cgi - Last time a switch connected by script (swmisc.pl) oldest first
switch_noconnect.cgi   - Switches that have failed to connected in the past seven days by date 
swmacfilter.cgi        - mac-address-based filtering utility on switches
vlanmap.cgi            - Vlans info: vlan number, source router/fw, state, dhcp server, descriptions 


[netpeek/lib]
auth.pl                - simple code for user auth/access
dbipw.pl               - password call for database server, edit for secure call
exroutes.pl            - kludge code used to add external affiliated network data into iproutes.cgi
servers.pl             - local constant data, IP, hostname, path, userid, etc.


[netpeek/util]
countmac.pl            - tool: totals macs per vlan from arp.reapIP; date threshold
splitTextbox.pl        - test code
TEST.pl                - test code


############

= syslog-ng scripts for database inserts
* Initial development by Jessice Mason

[syslog-ng/sripts]
world_ack.pl     - tail dhcp process into databases
world_macflap.pl - tail macflap incidents into databases
world_manager.pl - manage world* processes via  /etc/cron.d/world_manager
world_nofree.pl  - tail no free dhcp incidents into databases
world_pw.pl      - password routine for database server

 
 
